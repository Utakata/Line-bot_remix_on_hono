"""
システムの目的と特徴：

- **目的**：ユーザーが日々の感謝を記録し、AIによる分析とフィードバックを受けることで、感謝の習慣形成を支援し、精神的健康とポジティブな思考を促進します。
- **特徴**：LINEボットを通じてシンプルかつ直感的に感謝の投稿が可能で、AIからの共感的なコメントを受け取れます。

主要な機能要件：

- **ユーザー管理**
  - LINEアカウントを利用したユーザー登録と認証。
  - ユーザー情報をGoogle Spreadsheetsで管理。

- **感謝投稿機能**
  - LINE上でテキストベースの感謝メッセージを投稿可能。
  - 単一エントリー投稿（形式：「（感謝対象）について感謝します。（感謝の理由）ありがとう。」、最大3000文字）。
  - 複数エントリー一括投稿（番号付きリスト形式、各エントリーは「数字.」で開始）。
  - 投稿日の指定機能（本日または昨日）。
  - 日付別の投稿制限（各日最大10件）、投稿期限設定（本日分は23時まで、昨日分は翌日11時まで）。

- **AI分析**
  - Gemini APIを利用して感謝メッセージを分析。
  - 共感的なAIコメントを生成し、ユーザーにフィードバック。
  - 複数エントリーの場合、各エントリーごとに個別に分析とコメントを提供。

- **データ保存**
  - 投稿内容をGoogle Spreadsheetsに自動的に保存。
  - 保存データ：日付、同日投稿数、感謝の対象、感謝の内容、AIコメント。

- **投稿管理**
  - 本日分と昨日分の投稿を区別して表示。
  - 残りの投稿可能件数をユーザーに表示。
  - 投稿期限が近づいた際のリマインド機能。

- **統計・分析**
  - ユーザーごとの日次、週次、月次投稿件数を集計。
  - 全体の投稿傾向の分析と報告。
  - 日付別の投稿完了率を算出し、ユーザーにフィードバック。

- **キリ番褒め機能**
  - 10回、50回、100回などの特定の投稿回数達成時に特別なメッセージを送信。
  - AIを活用して個別化された褒め言葉を生成し、ユーザーのモチベーションを向上。

- **リマインド機能**
  - ユーザーが設定した頻度でリマインドメッセージを送信。
  - 投稿忘れ防止のための通知機能。

- **複数エントリー解析機能**
  - 長文テキストから個別の感謝エントリーを抽出・解析。
  - 各エントリーの感謝対象と内容を自動的に識別。
  - エントリーごとに分割して処理し、スプレッドシートに登録。

- **ユーザビリティの向上**
  - 直感的なLINEインターフェースで操作可能。
  - 明確でわかりやすいエラーメッセージと操作ガイドを提供。
  - 複数エントリー投稿のサポートと使用方法の明示。

- **拡張性とパフォーマンス**
  - 最大1000人のユーザーまで対応可能なスケーラブルな設計。
  - LINEメッセージへの応答時間は5秒以内を目標。
  - GASの制限内で効率的に処理を実行。

- **セキュリティと信頼性**
  - スクリプトプロパティを使用して機密情報を安全に管理。
  - 適切なデータアクセス制限とユーザー認証を実装。
  - データの定期バックアップとエラー時のログ記録・管理者通知。

- **技術要件の遵守**
  - Google Apps Script (GAS)とGoogle Spreadsheetsを活用。
  - LINE Messaging APIとGemini APIとの連携。
  - 定期実行にはGASの時間駆動型トリガーを使用。

"""